+ 在 `SwitchContext` 函数中使用 `ret` 后 **如果是第一次调度** ，则返回到 `GMThreadStartup` 函数中，这里直接使用 `ebp + 8` 的地方作为参数，因此需要往栈中压入一个垃圾值（ret地址，事实上这个地址永远不会被用到，因此可以填任何的值）

+ 初始化线程的时候会压入 `GMTThreadStartup` 函数的地址。因此第一次调度的时候在 `SwitchContext` 执行 `ret` 之后会跳到 `GMThreadStartup` 里面去进行线程入口函数的调用。

  ```c
  // 初始化线程栈
  PushStack(&ESP,  (unsigned int)GMThreadp);  // 通过这个指针来找到：线程函数、函数参数
  PushStack(&ESP, (unsigned int)0);// 平衡堆栈，此值无意义
  PushStack(&ESP, (unsigned int)GMThreadStartup);  // 线程入口函数，这个函数负责调用线程函数
  PushStack(&ESP, (unsigned int)0);  // push ebp，此值无意义，是寄存器初始值
  PushStack(&ESP, (unsigned int)0);  // push edi，此值无意义，是寄存器初始值
  PushStack(&ESP, (unsigned int)0);  // push esi，此值无意义，是寄存器初始值
  PushStack(&ESP, (unsigned int)0);  // push ebx，此值无意义，是寄存器初始值
  PushStack(&ESP, (unsigned int)0);  // push ecx，此值无意义，是寄存器初始值
  PushStack(&ESP, (unsigned int)0);  // push edx，此值无意义，是寄存器初始值
  PushStack(&ESP, (unsigned int)0);  // push eax，此值无意义，是寄存器初始值
  ```

  