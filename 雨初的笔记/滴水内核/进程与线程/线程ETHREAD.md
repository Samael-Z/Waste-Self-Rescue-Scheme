+ 驱动加载后，执行驱动入口代码时，**所属进程是系统进程**。这和 `DeviceIoControl` 时情况又有所不同，`DeviceIoControl` 通信时，所属进程是**发起通信的3环程序**。
+ 一个CPU只有一个TSS，在切换线程的时候ESP0会被操作系统不断更改。ESP0的来源就是 `KTHREAD` 中0x28(kernelstack)。每次切换操作系统都会把这个值写到TSS中。因此在使用中断门的时候能保证切换到自己的零环栈里面。(kernelstack会变，比如压栈栈顶会变，那么就会改)
+ 进零环就有可能发生线程切换。线程切换都是零环发生的。比如访问内存的时候缺页了，就会进零环。进零环就有可能发生线程切换。如果写一个不访问内存并且屏蔽时钟的程序，就有可能把系统写死。
+ `fs:[0x0]` 是 **TEB** ， `fs:[0x30]` 是 `PEB` 。
+ 线程是杀不死的