```cpp
#include <math.h>
#include <stdio.h>
#include <string.h>

#include <algorithm>
#include <climits>
#include <iostream>
#include <vector>

using namespace std;

const int N = 1010;

int father[N];
bool isRoot[N];
int n, m;

int findFather(int x)
{
    while (x != father[x])
        x = father[x];
    return x;
}

void Union(int a, int b)
{
    int faA = findFather(a);
    int faB = findFather(b);
    if (faA != faB)
        father[faB] = faA;
}

int main()

{
    cin >> n >> m;
    for (int i = 1; i <= n; i++)
        father[i] = i;
    while (m--)
    {
        int a, b;
        cin >> a >> b;
        Union(a, b);
    }
    for (int i = 1; i <= n; i++)
        isRoot[findFather(i)] = true;
    int res = 0;
    for (int i = 1; i <= n; i++)
        if (isRoot[i])
            res++;
    cout << res << endl;
    return 0;
}
```

+ 加上状态压缩

  ```cpp
  #include <math.h>
  #include <stdio.h>
  #include <string.h>
  
  #include <algorithm>
  #include <climits>
  #include <iostream>
  #include <vector>
  
  using namespace std;
  
  const int N = 1010;
  
  int father[N];
  bool isRoot[N];
  int n, m;
  
  int findFather(int x)
  {
      int t = x;
      while (x != father[x])
          x = father[x];
      while (t != father[t])
      {
          int a = father[t];
          father[t] = x;
          t = a;
      }
      return x;
  }
  
  void Union(int a, int b)
  {
      int faA = findFather(a);
      int faB = findFather(b);
      if (faA != faB)
          father[faB] = faA;
  }
  
  int main()
  
  {
      cin >> n >> m;
      for (int i = 1; i <= n; i++)
          father[i] = i;
      while (m--)
      {
          int a, b;
          cin >> a >> b;
          Union(a, b);
      }
      for (int i = 1; i <= n; i++)
          isRoot[findFather(i)] = true;
      int res = 0;
      for (int i = 1; i <= n; i++)
          if (isRoot[i])
              res++;
      cout << res << endl;
      return 0;
  }
  ```

  